local layouts = {
    -- Русская → QWERTY (Windows раскладка)
    ru = {
        lower = {
            ['а'] = 'f', ['б'] = ',', ['в'] = 'd', ['г'] = 'u', ['д'] = 'l',
            ['е'] = 't', ['ё'] = '`', ['ж'] = ';', ['з'] = 'p', ['и'] = 'b',
            ['й'] = 'q', ['к'] = 'r', ['л'] = 'k', ['м'] = 'v', ['н'] = 'y',
            ['о'] = 'j', ['п'] = 'g', ['р'] = 'h', ['с'] = 'c', ['т'] = 'n',
            ['у'] = 'e', ['ф'] = 'a', ['х'] = '[', ['ц'] = 'w', ['ч'] = 'x',
            ['ш'] = 'i', ['щ'] = 'o', ['ъ'] = ']', ['ы'] = 's', ['ь'] = 'm',
            ['э'] = '\'', ['ю'] = '.', ['я'] = 'z'
        },
        upper = {
            ['А'] = 'F', ['Б'] = '<', ['В'] = 'D', ['Г'] = 'U', ['Д'] = 'L',
            ['Е'] = 'T', ['Ё'] = '~', ['Ж'] = ':', ['З'] = 'P', ['И'] = 'B',
            ['Й'] = 'Q', ['К'] = 'R', ['Л'] = 'K', ['М'] = 'V', ['Н'] = 'Y',
            ['О'] = 'J', ['П'] = 'G', ['Р'] = 'H', ['С'] = 'C', ['Т'] = 'N',
            ['У'] = 'E', ['Ф'] = 'A', ['Х'] = '{', ['Ц'] = 'W', ['Ч'] = 'X',
            ['Ш'] = 'I', ['Щ'] = 'O', ['Ъ'] = '}', ['Ы'] = 'S', ['Ь'] = 'M',
            ['Э'] = '"', ['Ю'] = '>', ['Я'] = 'Z'
        }
    },

    -- Dvorak → QWERTY
    ['en-dvorak'] = {
        lower = {
            ['['] = 'w', [']'] = 'e', ['\''] = 'q', [','] = 'v',
            ['.'] = 'u', ['p'] = 'l', ['y'] = 'p', ['f'] = 'o',
            ['g'] = 'r', ['c'] = 'g', ['r'] = 't', ['l'] = 'y',
            ['/'] = 'z', ['='] = 's', ['~'] = '`', ['a'] = 'a',
            ['o'] = 's', ['e'] = 'd', ['u'] = 'f', ['i'] = 'g',
            ['d'] = 'h', ['h'] = 'j', ['t'] = 'k', ['n'] = 'l',
            ['s'] = ';', ['q'] = '\'', ['j'] = 'c', ['k'] = 'v',
            ['x'] = 'b', ['b'] = 'n', ['m'] = 'm', ['w'] = ',',
            ['v'] = '.', ['z'] = '/'
        },
        upper = {
            ['{'] = 'W', ['}'] = 'E', ['"'] = 'Q', ['<'] = 'V',
            ['>'] = 'U', ['P'] = 'L', ['Y'] = 'P', ['F'] = 'O',
            ['G'] = 'R', ['C'] = 'G', ['R'] = 'T', ['L'] = 'Y',
            ['?'] = 'Z', ['+'] = 'S', ['`'] = '~', ['A'] = 'A',
            ['O'] = 'S', ['E'] = 'D', ['U'] = 'F', ['I'] = 'G',
            ['D'] = 'H', ['H'] = 'J', ['T'] = 'K', ['N'] = 'L',
            ['S'] = ':', ['Q'] = '"', ['J'] = 'C', ['K'] = 'V',
            ['X'] = 'B', ['B'] = 'N', ['M'] = 'M', ['W'] = '<',
            ['V'] = '>', ['Z'] = '?'
        }
    },

    -- Colemak → QWERTY
    ['en-colemak'] = {
        lower = {
            ['w'] = 'w', ['f'] = 'e', ['p'] = 'r', ['g'] = 't',
            ['j'] = 'y', ['l'] = 'u', ['u'] = 'i', ['y'] = 'o',
            [';'] = 'p', ['a'] = 'a', ['r'] = 's', ['s'] = 'd',
            ['t'] = 'f', ['d'] = 'g', ['h'] = 'h', ['n'] = 'j',
            ['e'] = 'k', ['i'] = 'l', ['o'] = ';', ['q'] = 'q',
            ['z'] = 'z', ['x'] = 'x', ['c'] = 'c', ['v'] = 'v',
            ['b'] = 'b', ['k'] = 'n', ['m'] = 'm'
        },
        upper = {
            ['W'] = 'W', ['F'] = 'E', ['P'] = 'R', ['G'] = 'T',
            ['J'] = 'Y', ['L'] = 'U', ['U'] = 'I', ['Y'] = 'O',
            [':'] = 'P', ['A'] = 'A', ['R'] = 'S', ['S'] = 'D',
            ['T'] = 'F', ['D'] = 'G', ['H'] = 'H', ['N'] = 'J',
            ['E'] = 'K', ['I'] = 'L', ['O'] = ':', ['Q'] = 'Q',
            ['Z'] = 'Z', ['X'] = 'X', ['C'] = 'C', ['V'] = 'V',
            ['B'] = 'B', ['K'] = 'N', ['M'] = 'M'
        }
    }
}

return {
    getLayout = function(layoutName)
        return layouts[layoutName] or nil
    end,
    
    getAvailableLayouts = function()
        local names = {}
        for name in pairs(layouts) do
            table.insert(names, name)
        end
        return names
    end
}